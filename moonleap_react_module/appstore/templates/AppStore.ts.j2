{% magicwith substore.name|untitle0 as yellowTulip %}
import { observable, makeObservable } from 'mobx'
{% for substore in res.substores %}
import { YellowTulip } from '{{ substore.import_path }}'
{% endfor %}

export class AppStore {
{% for substore in res.substores %}
  @observable yellowTulip: YellowTulip;
{% endfor %}

  constructor() {
    makeObservable(this);

{% for substore in res.substores %}
    this.yellowTulip = new YellowTulip();
{% endfor %}

    this.applyPolicies();
  }

  applyPolicies() {
{{ res.policy_lines }}
  }
}
{% endmagicwith %}