{% magic_with _.component.name as redRose %}
{% magic_with _.component.item_list.item_name as yellowTulip %}
import React from 'react';
import { observer } from 'mobx-react-lite';
import { withDefaultProps } from 'react-default-props-context';
import { Selection } from 'skandha-facets/Selection';
import { Effect } from 'src/utils/components';
import * as R from 'ramda';
import { {{ _.item_list.item.ts_type }} } from 'src/api/types/{{ item_list.item.type_name }}T';

type ArgsT = {
  yellowTulipsSelection: Selection;
  yellowTulips: {{ _.item_list.ts_type }};                                                          {% ?? _.route_params and __.get_item_id() %}
{{ __.select_effect_args() }}
};

const f = (args: ArgsT) => {
  {{ __.get_item_id() }};                                                                           {% if __.get_item_id() %}
  if (yellowTulipId) {
    args.yellowTulipsSelection.selectItem({ itemId: yellowTulipId});
  }
  if (args.yellowTulipId) {                                                                         {% else %}
    args.yellowTulipsSelection.selectItem({ itemId: args.yellowTulipId});
  }                                                                                                 {% endif %}
};

type PropsT = {};

type DefaultPropsT = {
  yellowTulipsSelection: Selection;
  yellowTulips: {{ _.item_list.ts_type }};                                                          {% ?? _.route_params and __.get_item_id() %}
};

export const RedRose = observer(
  withDefaultProps<PropsT, DefaultPropsT>(
    (props: PropsT & DefaultPropsT) => {
      return (
        <Effect
          f={f}
          getArgs={(params) => {
            return {
              yellowTulipsSelection: props.yellowTulipsSelection,
              yellowTulips: props.yellowTulips,                                                     {% ?? _.route_params and __.get_item_id() %}
              {{ __.extract_params() }}
            }
          }}
        />
      );
    }
  )
);
{% end_magic_with %}
{% end_magic_with %}
