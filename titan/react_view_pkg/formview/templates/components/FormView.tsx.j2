{% magic_with res.item_name as yellowTulip %}
{% magic_with res.module.name as gardenFlowers %}
import React from 'react';
import { observer } from 'mobx-react-lite';
import {
  FormStateProvider,
  HandleValidateArgsT,
  HandleSubmitArgsT,
} from 'react-form-state-context';
import { {{ _.postmethod }} } from 'src/api/mutations/{{ _.postmethod }}';
import { Field } from 'src/forms/components/Field';
import { GlobalError } from 'src/forms/components/GlobalError';
import { TextField } from 'src/forms/components/TextField';
import { SaveButton } from 'src/forms/components/SaveButton';

import './YellowTulipFormView.scss';

type PropsT = {
};

export const YellowTulipFormView: React.FC<PropsT> = observer(() => {
  const initialValues = {
{% for field_spec in _.form_field_specs %}
    {{ field_spec.name }}: null,
{% endfor %}
  };
  const initialErrors = {};
  const handleValidate = ({values, setError} : HandleValidateArgsT) => {};
  const handleSubmit = ({values}: HandleSubmitArgsT) => {
    {{ _.postmethod }}(values);
  };

  const formDiv = (
    <div className="YellowTulipFormView flex flex-col w-full">
      <FormStateProvider
        initialValues={initialValues}
        initialErrors={initialErrors}
        handleValidate={handleValidate}
        handleSubmit={handleSubmit}
      >
        <GlobalError />
        <Field fieldName="name" label="Name">
          <TextField />
        </Field>
        <SaveButton
          label="Save"
          disabled={false}
        />
      </FormStateProvider>
    </div>
  );

  return formDiv;
});
{% end_magic_with %}
{% end_magic_with %}
