{% magic_with res.item_name as yellowTulip %}
{% magic_with res.module.name as gardenFlowers %}
import classnames from 'classnames';
import { observer } from 'mobx-react';
import { useDefaultProps, FC } from 'react-default-props-context';
import { Selection } from 'skandha-facets/Selection';

import { PickerValueT, ValuePicker } from 'src/utils/components/ValuePicker';
import { YellowTulipT } from 'src/gardenFlowers/types';

type PropsT = {
};

type DefaultPropsT = {
  yellowTulips: YellowTulipT[]
  yellowTulipsSelection: Selection
};

export const YellowTulipPicker: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {
  const props = useDefaultProps<PropsT, DefaultPropsT>(p);

  const onChange = (value: PickerValueT) => {
    if (value.__isNew__) {
      // TODO: add yellowTulip
    } else if (value.value) {
      props.yellowTulipsSelection.selectItem({
        itemId: value.value.id,
      });
    }
  };

  return (
    <div className={classnames('YellowTulipPicker mt-2', props.className)}>
      <ValuePicker
        isMulti={false}
        isCreatable={true}
        pickableValues={props.yellowTulips}
        labelFromValue={(x: any) => x.name}
        pickableValue={container.selection.item}
        onChange={onChange}
      />
    </div>
  );
});

{% end_magic_with %}
{% end_magic_with %}